{% extends "base.html" %}

{% block jumbotron %}
{% endblock %}

{% load static %}

<!-- Customizible CSS -->

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/products.css' %}">
{% endblock %}

<!-- Page title -->
{% block extra_title %}Products{% endblock %}

{% block content %}
<section>
    <div class="bg-light w-50 mx-auto">
        <!-- Page title -->
        <h1 class="text-center m-3 p-3" item-prop="available products"><strong> Regional Boxes availabe this
                month</strong>
        </h1>

        <!-- Boxes container -->
        <div class="row d-flex justify-content-center text-center products-container" itemscope>

            {% for box in boxes %}
            <div class="col-sm-6 col-md-5 col-lg-4 col-xl-3 col-10 gy-4">
                <!-- Box card -->
                <div class="card border-1">
                    <!-- Box name -->
                    <div class="card-header">
                        <p class="mb-0 lead fw-bolder" itemprop="name">Box {{ box.box_name }}</p>
                    </div>
                    <!-- Box image -->
                    {% if box.box_image %}
                    <div class="product-img-box m-2">
                        <a href="{% url 'product_details' box.id %}">
                            <img class="rounded-circle product-image" itemprop="image" src="{{ box.box_image.url }}"
                                alt="{{ box.box_name }}">
                        </a></div>
                    {% else %}
                    <div class="product-image">
                        <a href="">
                            <img class="card-img-top img-fluid" itemprop="image" src="{{ MEDIA_URL }}noimage.png"
                                alt="{{ box.box_name }}">
                        </a>
                    </div>
                    {% endif %}
                    <div class="card-body pb-0">

                        <!-- Box description -->
                        <p class="mb-0" itemprop="description">{{ box.box_description }}</p>
                        <hr>
                    </div>
                    <div class="card-footer bg-white pt-0 border-0 text-left">
                        <div class="row">
                            <div class="col">
                                <!-- Box price -->
                                <p class="lead mb-0 text-left font-weight-bold"><i class="fa fa-eur text-muted"
                                        aria-hidden="true" itemprop="price"></i>
                                    {{ box.box_price }}
                                </p>
                            </div>
                        </div>
                    </div>
                    <span class="m-2 p-3">
                        <button class="btn btn-success fw-bold mx-2 update-cart" itemprop="url" data-box="{{box.id}}"
                            data-action="add" type="button"><i class="fas fa-cart-plus"></i> Add to cart</button>
                        <a class="btn btn-warning fw-bold mx-2" itemprop="url"
                            href="{% url 'product_details' box.id %}"><i class="fas fa-info-circle"></i>
                            Details</a></span>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}

<!-- Customizible JS -->
{% block postloadjs %}
<script src="{% static 'js/product_detail.js' %}" type="text/javascript"></script>
<script src="{% static 'js/cart.js' %}" type="text/javascript"></script>
{% endblock %}